# Функциональный анализ и сценарии
На основании интересов целевой аудитории, описанных в коре документации, был выведен минимально необходимый набор возможностей в системе.

## Эксплуатация устройства

![image](https://user-images.githubusercontent.com/48065080/155876032-1c33610b-dfba-4d29-9d4d-3cecbeee00e1.png)

Исходя из интересов целевой аудитории, как минимум для поддержки и просмотра комфортных параметров среды в доме должны быть установлены устройства, способные запоминать и поддерживать своё состояние, при этом передавая обратную связь пользователю. Часть устройств может быть предустановлена дома, но так как пользователь имеет заинтересованность в самостоятельном добавлении и замены оборудования в доме, то устроства должны предоставлять возможность самостоятельной установки. В любом случае, как только устройство установлено его нужно сконфигурировать под интересы жильцов, которые могут в любой момент измениться, поэтому устройство должно иметь функцию дальнейшей переконфигурации. Жильцы должны быть уверены, что система работает исправно, поэтому устройство должно информировать о любых неисправностях.

## Установить устройство

![image](https://user-images.githubusercontent.com/48065080/155880843-f920b215-43f3-471d-94bb-d4633804873d.png)

При самостоятельной установке, чтобы система работала эффективно и корректно, устройство должно информировать о том, где его лучше расположить. Если у пользователя есть элементарные навыки работы с техникой и устройство простое, то он может получить рекомендации о правильном монтировании устройства, иначе система должна вызвать специалиста, сообщив ему все подробности ситуации. Как только устройство запущено, оно должно подключиться в сеть и сигнализировать, что оно готово к работе, а если связь с устройством пропадает, то система сообщает о неисправности. Если устройство установило соедениение, то ему можно задать наименование и местоположение в доме, чтобы пользователь мог легко его найти.

## Уведомить о неисправности

![image](https://user-images.githubusercontent.com/48065080/155875671-194c1f20-0e24-41c0-86f9-c7168438129a.png)

В случае, если возникла неисправность, то для лучшего понимания причин проблемы, устройство должно сообщить о своих параметрах. Далее пользователь может получить консультацию для решения возникших неисправностей, если система тривиальна или же вызвать специалиста. 

## Конфигурация устройства

![image](https://user-images.githubusercontent.com/48065080/155875667-03d005c7-1ccc-436e-b114-cc3cea4f96e4.png)

Для конфигурации устройства, пользователь должен его найти в системе и узнать его текущие параметры, чтобы принять решение о характере изменения и выбрать режим работы в связи с интересами в самостоятельной настройки сценариев поведения систем в умном доме.

## Задать режим работы устройства

![image](https://user-images.githubusercontent.com/48065080/155880685-dfbe9ad5-3b5a-4efc-8905-0e1e76047566.png)

По запросу устройство должно сообщать возможные режимы работы. При выборе определённого режима пользователю предлагаются рекомендованные параметры для безопасной жизнедеятельности. Часто может случиться так, что системы управления, необходимые пользователю, такие как освещение с датчиком освещенности, требуют устройства, находящиеся в различных местах. Поэтому, пользователь может явно задать связи между устройствами в системе. Таким образом, параметры одного устройства используются для задания режима работы другого устройства. Если же такой необходимости нет, пользователь может указать фиксированное значение для параметров, как ему удобно.

## Найти устройства

![image](https://user-images.githubusercontent.com/48065080/155879492-2040271e-574f-4d9c-945e-9a1f50d6b262.png)

Чтобы взаисмодействовать с обилием устройств в доме, в системе должны быть функции поиска по местоположению в доме, например, в определённой комнате. Еще может быть полезным поиск по типу устройства, например, вывести все датчики температуры. Чтобы найти конкретное устройство, то проще всего это можно сделать по имени. Значительно ускорит процесс настройки возможность взаимодействовать с несколькими устройствами одновременно, если они имеют одинаковый тип. Также, если пользователь хочет настроить систему управления, то полезно будет посмотреть все устройства, с которыми связано подконтрольное устройство.

## Посмотреть параметры устройства

![image](https://user-images.githubusercontent.com/48065080/155880412-bfc84022-a54d-4d3c-a83b-a1d61fca8d79.png)

По запросу, устройство должно быть способно передавать своё имя, а также режим работы, его параметры и передаваемые в систему данные в текущий момент времени. Так пользователь сможет убедиться в работоспособности устройства и может быть продемонстрировать возможности умного дома кому-то еще. Запрос динамики изменений пользователю лучше узнать, что происходит в его доме, настроить параметры среды или найти места неээфективного использования энергии. Устройство должно сообщать о уровне сигнала в сети в случае бесрпооводного соединение, что позволит пользователю отладить сеть.

# Пример, включающий в себя все функции

- После новостей о участившихся кражак в городе, жители решают купить освещение, которое будет светить всю ночь, чтобы отпугивать грабителей.
- Они открывают конфигуратор системы вещей в доме и указывают, что хотят установить новое устройство - лампу наружнего освещения. Приложение указывает всю территорию вдоль дома, не покрытую ночным светом и рекомендует купить 4 лампы и их возможное расположение возле входов в дом, но подальше от спальни. Также им сообщается, что установить освещение самому будет проблематично и вызывают специалиста. Специалисту сообщается, что ему возможно с собой потребуется взять шуруповёрт, лестницу и длинный провод.
- В конфигураторе указывается, что лампы установлены и можно начать сопряжение с ними. Три лампы успешно подключились, но четвёртая не дала никакого ответа. Скорее всего интернет сигнал до неё не достал. В системе отправляетсся запрос ко всем подключенным устройствам, чтобы проверить силу интернет соединение и оказывается, что ближайшее к лампе устройство имеет лишь 10% сигнала, поэтому решено поставить еще одну точку доступа и лампа заработала. В конфигураторе присваивается наименование для каждой лампы и согласуется местоположение и происходит конфигурация.
- По умолчанию в лампах задан режим работы - гореть всегда, что явно не устраивает пользователя. Пользователь выбирает режим работы - работать по указанному промежутку времени. Лампа рекомендует включаться в 19, а выключаться в 6, что полностью устраивает пользователя.
- Декабрь закончился и день стал постепенно увеличиваться и светить 11 часов на улице перестало иметь смысл. Чтобы постоянно не перенастраивать лампу, решено было купить датчики освещения. Система порекомендовала поставить в противоположные части дома возле окон. Процесс их установки не сложный - система порекомендовала приклеить их на липучку.
- Соединение с сетью прошло успешно. Датчик имеет один режим работы без параметров, поэтому дальнейшая конфигурация не нужна.
- Пользователь заходит в конфигуратор и выбирает режим работы лампы - включаться, когда уровень освещения ниже чем рекомендованное значение в 8000 люкс. Устройство запрашивает датчик, с которого будут.
- Считываться данные о освещении. Пользователь указывает оба датчика. Задаётся параметр режима работы - использовать максимальный показатель.
- Далее, кроме уличного освещения пользователь решает купить и подключить к датчику умные занавески, чтобы при уровне освещения больше чем 20000 люкс с определённой стороны дома, они автоматически задвигались. Процесс настройки похожий.
- Спустя год датчик присылает уведомление о низком уровне зарядка батарейки и что её следует заменить.
- Через два года одна из ламп перестаёт гореть и связь с ней полностью пропадает. Причина неисправности неизвестна. Система указывает, где лампа установлена и от какого датчика освещения она зависит. Датчик работает исправно. В истории изменений показаний с лампы наблюдаются странности. Она резко включалась и выключалась несколько раз, поле чего погасла. Для решения вопроса вызвается специалист. Оказывается, что провода были перегрызены мышами.
