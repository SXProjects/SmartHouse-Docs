# Функциональный анализ и сценарии

![image](https://user-images.githubusercontent.com/48065080/156404636-afbab644-e3be-44d9-b62d-d6724989016c.png)

## Сеть вещей
### Конфигурация устройств в доме
#### Составление карты устройств
Конфигурация - структура сети устройств в доме, которая изменяется относительно редко. Составление карты устройств в доме необходимо для идентификации и поиска в сети. Функция позволяет оперировать осмысленными названиями, а не идентификаторами, искать устройства по заданному местоположению.

Действия с картой устройств:
- Добавление устройства. Задаётся вся обязательная информация. Выпоняется крайне редко.
- Удаление устройства. Выпоняется крайне редко.
- Запрос информации о конкретном устройстве. Ожидает местоположения и наинования. Возвращает инфомрацию.
- Запрос информации о всех устройствах в указанном месте. Ожидает местоположение. Возврает список информации о каждом соответствующем устройстве.
- Получить список устройств. Возврает список информации о каждом устройстве.

Обязательная информация для каждого устройства в карте:
- Наименование - произвольная строка. Изменяется крайне редко. 
- Метоположение - строки: двор/дом, комната, уточнение. Изменяется крайне редко.
- Тип устройства - строка. Не изменяется.
- Режим работы. Строка. Изменяется редко.

#### Управление режимами работы устройств

Режим работы определяет, какую задачу устройство должно выполнять, возможные параметры для настройки и показания, периодически приходящие от устройства при функционировании. Одно физическое или программное устройство может пригодиться для разных подвидов задач. Параметры устройства зависят от показаний, передаваемых от других устройств.

Действия с режимами устройств:
- Найти режим работы. Ожидает наименования и типа устройства. Возвращает информацию.
- Загрузить режимы работы. Ожидает типа устройства.
- Удалить режимы работы. Ожидает типа устройства. Возможно, только если в сети нет устройств с указанным типом.

Обязательная информация режима работы:
- Наименование - произвольная строка. Не изменяется. 
- Тип устройства - строка. Не изменяется.
- Список параметров: наиманование, тип данных. Не изменяется. 
- Список показаний: наименование, тип данных. Не изменяется. 

#### Запись связей между устройствами
Устройство может изменять свои параметры только, если они зависят от другого устройства. Возможно установить соединение
показания одного устройства с параметром другого устройства, чтобы указанные параметры обновлялись автоматически при передачи показаний. Соединения между устройствами единственный способ взаимодействия.

Действия со связью устройств:
- Добавление связи. Задаётся вся обязательная информация. Выпоняется редко.
- Удаление связи. Выпоняется редко.
- Деактивацися связи. Показания передающего устройства перестают записываться в параметры принимающего устройства.
- Активация связи. Показания передающего устройства начинают записываться в параметры принимающего устройства.

Обязательная информации для связи:
- Передающее устройство. Ожидает наименования + местоположения устройства. Изменяется редко.
- Принимающее устройство. Ожидает наименования + местоположения устройства. Изменяется редко.
- Наименование показания передающего устройства. Изменяется редко.
- Тип показания передающего устройства. Изменяется редко.
- Наименование параметра принимающего устройства. Изменяется редко.
- Тип параметра принимающего устройства. Изменяется редко.

### Обработка взаимодействий устройств
#### Распознанвание показаний девайса.
Показания передаются в сеть вещей в виде сообщения, необходимо понять, от какого устройства оно пришло. Необходимо удостовериться, что все типы показаний совпадают и соответствуют режиму работы.

Обязательная информация показания девайса:
- Наименование + местоположение.
- Тип устройства.
- Список: наименование показания + значение.

Действия:
- Распознать и проверить. Ожидает команды. Возвращает информацию.

#### Сопоставление входов-выходов связанных девайсов.
Необходимо узнать, с какими параметрыми каких устройств связаны переданные показания.

Действия:
- Найти связи. Ожидание наименование передающего устройства и показания. Возвращает список связей с указанным устройством.

#### Обновление параметров связанных девайсов
Необходимо сформировать сообщение с переданными значениями новых параметров. 

Обязательная информация обновления параметров:
- Наиманование + местоположение устройства.
- Наименование параметра.
- Тип параметра.
- Значение параметра.

Действия:
- Сформировать и отправить. Ожидает информацию. Возвращает команду.

## Девайс



![image](https://user-images.githubusercontent.com/48065080/155889617-dbdbc685-3e1a-46cc-af2e-4a6ac314755d.png)
![image](https://user-images.githubusercontent.com/48065080/155889618-23a61edb-8e4e-45e0-9951-a6cb1108aa97.png)
